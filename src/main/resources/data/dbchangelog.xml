<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
        http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd
        http://www.liquibase.org/xml/ns/dbchangelog-ext
        http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">

    <changeSet author="pnank (generated)" id="1604187969497-2">

        <createTable tableName="address">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="building_number" type="VARCHAR(5)">
                <constraints nullable="false"/>
            </column>
            <column name="city" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="flat_number" type="VARCHAR(7)"/>
            <column name="postal_code" type="VARCHAR(7)">
                <constraints nullable="false"/>
            </column>
            <column name="street" type="VARCHAR(45)"/>
        </createTable>
    </changeSet>
    <changeSet author="pnank (generated)" id="1604187969497-3">
        <createTable tableName="current_vehicle_user">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="user_fk" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="vehicle_fk" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="pnank (generated)" id="1604187969497-4">
        <createTable tableName="fuel_type">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="pnank (generated)" id="1604187969497-5">
        <createTable tableName="hibernate_sequence">
            <column name="next_val" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="pnank (generated)" id="1604187969497-6">
        <createTable tableName="insurance_type">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="pnank (generated)" id="1604187969497-7">
        <createTable tableName="privilege">
            <column name="id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="name" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="pnank (generated)" id="1604187969497-8">
        <createTable tableName="refueling">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="cost" type="VARCHAR(255)"/>
            <column name="description" type="VARCHAR(255)"/>
            <column name="litre" type="VARCHAR(255)"/>
            <column name="refueling_date" type="date">
                <constraints nullable="false"/>
            </column>
            <column name="user_fk" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="vehicle_fk" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="pnank (generated)" id="1604187969497-9">
        <createTable tableName="roles">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="role_name" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="pnank (generated)" id="1604187969497-10">
        <createTable tableName="roles_privileges">
            <column name="role_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="privilege_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="pnank (generated)" id="1604187969497-12">
        <createTable tableName="user">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="created_at" type="datetime"/>
            <column name="email" type="VARCHAR(255)"/>
            <column name="is_enabled" type="BIT(1)">
                <constraints nullable="false"/>
            </column>
            <column name="last_login_at" type="datetime"/>
            <column name="password" type="VARCHAR(255)"/>
            <column name="reset_at" type="datetime"/>
            <column name="reset_code" type="VARCHAR(255)"/>
            <column name="role_fk" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="id_manager_fk" type="BIGINT"/>
            <column name="user_account_status_fk" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="pnank (generated)" id="1604187969497-13">
        <createTable tableName="user_account_status">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="user_account_status_name" type="VARCHAR(15)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="pnank (generated)" id="1604187969497-14">
        <createTable tableName="user_data">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="phone_number" type="VARCHAR(15)">
                <constraints nullable="false"/>
            </column>
            <column name="surname" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="addressfk" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="user_fk" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="pnank (generated)" id="1604187969497-15">
        <createTable tableName="vehicle">
            <column autoIncrement="true" name="vehicle_id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="average_fuel_consumption" type="DECIMAL(4, 2)">
                <constraints nullable="false"/>
            </column>
            <column name="city_fuel_consumption" type="DECIMAL(4, 2)">
                <constraints nullable="false"/>
            </column>
            <column name="color" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="country_fuel_consumption" type="DECIMAL(4, 2)">
                <constraints nullable="false"/>
            </column>
            <column name="mileage" type="VARCHAR(7)">
                <constraints nullable="false"/>
            </column>
            <column name="model" type="VARCHAR(45)">
                <constraints nullable="false"/>
            </column>
            <column name="vehicle_registration_number" type="VARCHAR(10)">
                <constraints nullable="false"/>
            </column>
            <column name="vin_number" type="VARCHAR(17)">
                <constraints nullable="false"/>
            </column>
            <column name="year" type="VARCHAR(4)">
                <constraints nullable="false"/>
            </column>
            <column name="fuel_typefk" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="user_fk" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="vehcle_make_fk" type="BIGINT"/>
            <column name="vehicle_status_fk" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="pnank (generated)" id="1604187969497-16">
        <createTable tableName="vehicle_inspection">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="cost" type="DECIMAL(5, 2)">
                <constraints nullable="false"/>
            </column>
            <column name="description" type="VARCHAR(45)"/>
            <column name="expiration_date" type="date">
                <constraints nullable="false"/>
            </column>
            <column name="inspection_date" type="date">
                <constraints nullable="false"/>
            </column>
            <column name="vehicle_fk" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="pnank (generated)" id="1604187969497-17">
        <createTable tableName="vehicle_insurance">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="cost" type="DECIMAL(8, 2)">
                <constraints nullable="false"/>
            </column>
            <column name="description" type="VARCHAR(100)"/>
            <column name="effective_date" type="date">
                <constraints nullable="false"/>
            </column>
            <column name="expiration_date" type="date">
                <constraints nullable="false"/>
            </column>
            <column name="policy_number" type="VARCHAR(25)">
                <constraints nullable="false"/>
            </column>
            <column name="insurance_type_fk" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="vehicle_fk" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="pnank (generated)" id="1604187969497-18">
        <createTable tableName="vehicle_make">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="pnank (generated)" id="1604187969497-19">
        <createTable tableName="vehicle_repair">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="cost" type="DECIMAL(8, 2)">
                <constraints nullable="false"/>
            </column>
            <column name="description" type="VARCHAR(555)">
                <constraints nullable="false"/>
            </column>
            <column name="repair_date" type="date">
                <constraints nullable="false"/>
            </column>
            <column name="title" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="vehicle_fk" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="pnank (generated)" id="1604187969497-20">
        <createTable tableName="vehicle_status">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="status_name" type="VARCHAR(15)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="pnank (generated)" id="1604187969497-21">
        <createTable tableName="vehicle_use">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="description" type="VARCHAR(255)"/>
            <column name="trip" type="VARCHAR(6)">
                <constraints nullable="false"/>
            </column>
            <column name="trip_date" type="date">
                <constraints nullable="false"/>
            </column>
            <column name="user_fk" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="vehicle_fk" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="pnank (generated)" id="1604187969497-22">
        <createTable tableName="verification_token">
            <column name="id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="expiry_date" type="datetime"/>
            <column name="token" type="VARCHAR(255)"/>
            <column name="user_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet author="pnank (generated)" id="1604187969497-24">
        <addPrimaryKey columnNames="id" constraintName="PRIMARY" tableName="privilege"/>
    </changeSet>
    <changeSet author="pnank (generated)" id="1604187969497-25">
        <addPrimaryKey columnNames="id" constraintName="PRIMARY" tableName="verification_token"/>
    </changeSet>
    <changeSet author="pnank (generated)" id="1604187969497-26">
        <addUniqueConstraint columnNames="vehicle_fk" constraintName="UK_6qtolnvl7gfpha2163f9y2w9x" tableName="current_vehicle_user"/>
    </changeSet>
    <changeSet author="pnank (generated)" id="1604187969497-27">
        <addUniqueConstraint columnNames="user_fk" constraintName="UK_6tq37fkgeaub5b58d32a3l9vu" tableName="user_data"/>
    </changeSet>
    <changeSet author="pnank (generated)" id="1604187969497-28">
        <createIndex indexName="FK1a5db8tofe6saaatrfe0u2r2a" tableName="current_vehicle_user">
            <column name="user_fk"/>
        </createIndex>
    </changeSet>
    <changeSet author="pnank (generated)" id="1604187969497-29">
        <createIndex indexName="FK1lu7w7slxbmod7ynv0dubitci" tableName="vehicle_use">
            <column name="user_fk"/>
        </createIndex>
    </changeSet>
    <changeSet author="pnank (generated)" id="1604187969497-30">
        <createIndex indexName="FK2u1agc88p3d2xcjluk9nh550w" tableName="vehicle_insurance">
            <column name="vehicle_fk"/>
        </createIndex>
    </changeSet>
    <changeSet author="pnank (generated)" id="1604187969497-31">
        <createIndex indexName="FK5yjwxw2gvfyu76j3rgqwo685u" tableName="roles_privileges">
            <column name="privilege_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="pnank (generated)" id="1604187969497-32">
        <createIndex indexName="FK629oqwrudgp5u7tewl07ayugj" tableName="roles_privileges">
            <column name="role_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="pnank (generated)" id="1604187969497-33">
        <createIndex indexName="FKa00jw2a68hvl147vpwlulocrp" tableName="vehicle">
            <column name="user_fk"/>
        </createIndex>
    </changeSet>
    <changeSet author="pnank (generated)" id="1604187969497-34">
        <createIndex indexName="FKapbergkivi5wt0tnc4wvuxs2p" tableName="user_data">
            <column name="addressfk"/>
        </createIndex>
    </changeSet>
    <changeSet author="pnank (generated)" id="1604187969497-35">
        <createIndex indexName="FKar9qutdnpncniga726tsfba6q" tableName="vehicle_inspection">
            <column name="vehicle_fk"/>
        </createIndex>
    </changeSet>
    <changeSet author="pnank (generated)" id="1604187969497-36">
        <createIndex indexName="FKas4oi37wi6pa2c0ca014cfomv" tableName="vehicle">
            <column name="vehicle_status_fk"/>
        </createIndex>
    </changeSet>
    <changeSet author="pnank (generated)" id="1604187969497-37">
        <createIndex indexName="FKf4jjkpl4h5aiebkao5ijpxab6" tableName="vehicle_insurance">
            <column name="insurance_type_fk"/>
        </createIndex>
    </changeSet>
    <changeSet author="pnank (generated)" id="1604187969497-38">
        <createIndex indexName="FKj4ljgspr04444nlent9hnle6k" tableName="vehicle">
            <column name="fuel_typefk"/>
        </createIndex>
    </changeSet>
    <changeSet author="pnank (generated)" id="1604187969497-39">
        <createIndex indexName="FKjuel80ofdh4phgai19l8h0tgc" tableName="refueling">
            <column name="vehicle_fk"/>
        </createIndex>
    </changeSet>
    <changeSet author="pnank (generated)" id="1604187969497-40">
        <createIndex indexName="FKkrs29ia43fpcdajtlbxdh4919" tableName="user">
            <column name="role_fk"/>
        </createIndex>
    </changeSet>
    <changeSet author="pnank (generated)" id="1604187969497-41">
        <createIndex indexName="FKlr4voxkh66wqeuq0fy9v6x3ev" tableName="vehicle_repair">
            <column name="vehicle_fk"/>
        </createIndex>
    </changeSet>
    <changeSet author="pnank (generated)" id="1604187969497-42">
        <createIndex indexName="FKmcoan0s8xa9q5y83v2eb25rhe" tableName="user">
            <column name="user_account_status_fk"/>
        </createIndex>
    </changeSet>
    <changeSet author="pnank (generated)" id="1604187969497-43">
        <createIndex indexName="FKnrakduoekp5hd9oi29ph7einm" tableName="user">
            <column name="id_manager_fk"/>
        </createIndex>
    </changeSet>
    <changeSet author="pnank (generated)" id="1604187969497-44">
        <createIndex indexName="FKr54ftwrf2c6o9iry1jgoa4vhl" tableName="refueling">
            <column name="user_fk"/>
        </createIndex>
    </changeSet>
    <changeSet author="pnank (generated)" id="1604187969497-45">
        <createIndex indexName="FKr9xb61gwfb0w4fv3k18veq6bw" tableName="vehicle">
            <column name="vehcle_make_fk"/>
        </createIndex>
    </changeSet>
    <changeSet author="pnank (generated)" id="1604187969497-46">
        <createIndex indexName="FKrdn0mss276m9jdobfhhn2qogw" tableName="verification_token">
            <column name="user_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="pnank (generated)" id="1604187969497-47">
        <createIndex indexName="FKs1vly17wbk4k967s66jteg6c4" tableName="vehicle_use">
            <column name="vehicle_fk"/>
        </createIndex>
    </changeSet>
    <include file="addMake.xml" relativeToChangelogFile="true"/>
    <include file="addFuelType.xml" relativeToChangelogFile="true"/>
    <include file="addRoles.xml" relativeToChangelogFile="true"/>
    <include file="addPrivilege.xml" relativeToChangelogFile="true"/>
    <include file="addInsuranceType.xml" relativeToChangelogFile="true"/>
    <include file="addVehicleStatus.xml" relativeToChangelogFile="true"/>
    <include file="addUserAccountStatus.xml" relativeToChangelogFile="true"/>
</databaseChangeLog>
