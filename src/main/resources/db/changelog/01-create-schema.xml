<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                    http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd">
    <changeSet id="1" author="nankiewic">

        <createTable tableName="fuel_types">
            <column name="id" type="bigint">
                <constraints primaryKey="true"/>
            </column>
            <column name="name" type="varchar(7)"/>
        </createTable>

        <createTable tableName="vehicle_makes">
            <column name="id" type="bigint">
                <constraints primaryKey="true"/>
            </column>
            <column name="name" type="varchar(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>

        <createTable tableName="insurance_types">
            <column name="id" type="bigint">
                <constraints primaryKey="true"/>
            </column>
            <column name="name" type="varchar(45)"/>
        </createTable>

        <createTable tableName="roles">
            <column name="id" type="bigint">
                <constraints primaryKey="true"/>
            </column>
            <column name="name" type="varchar(45)"/>
        </createTable>

        <createTable tableName="user_account_status">
            <column name="id" type="bigint">
                <constraints primaryKey="true"/>
            </column>
            <column name="name" type="varchar(45)">
                <constraints nullable="false"/>
            </column>
        </createTable>

        <createTable tableName="vehicle_status">
            <column name="id" type="bigint">
                <constraints primaryKey="true"/>
            </column>
            <column name="name" type="varchar(15)"/>
        </createTable>

        <createTable tableName="users">
            <column name="id" type="bigint">
                <constraints primaryKey="true"/>
            </column>
            <column name="email" type="varchar(45)">
                <constraints nullable="false"/>
            </column>
            <column name="password" type="varchar(45)">
                <constraints nullable="false"/>
            </column>
            <column name="reset_code" type="varchar(45)"/>
            <column name="reset_at" type="datetime"/>
            <column name="created_at" type="datetime"/>
            <column name="last_login_at" type="datetime"/>
            <column name="is_enabled" type="boolean" defaultValue="false"/>
            <column name="user_account_status_id" type="bigint">
                <constraints nullable="false"
                             foreignKeyName="fk_user_account_status"
                             references="user_account_status(id)"/>
            </column>
            <column name="roles_id" type="bigint">
                <constraints nullable="false"
                             foreignKeyName="fk_roles"
                             references="roles(id)"/>
            </column>
        </createTable>

        <createTable tableName="verification_token">
            <column name="id" type="bigint">
                <constraints primaryKey="true"/>
            </column>
            <column name="token" type="varchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="expiry_date" type="datetime">
                <constraints nullable="false"/>
            </column>
            <column name="user_id" type="bigint">
                <constraints nullable="false"
                             foreignKeyName="fk_users"
                             references="users(id)"/>
            </column>
        </createTable>

<!--        <createTable tableName="address">-->
<!--            <column name="id" type="bigint">-->
<!--                <constraints primaryKey="true"/>-->
<!--            </column>-->
<!--            <column name="city" type="varchar(45)">-->
<!--                <constraints nullable="false"/>-->
<!--            </column>-->
<!--            <column name="street" type="varchar(45)"/>-->
<!--            <column name="building_number" type="varchar(5)">-->
<!--                <constraints nullable="false"/>-->
<!--            </column>-->
<!--            <column name="flat_number" type="varchar(7)"/>-->
<!--            <column name="postal_code" type="varchar(7)">-->
<!--                <constraints nullable="false"/>-->
<!--            </column>-->
<!--            <column name="user_data_id" type="bigint">-->
<!--                <constraints nullable="false"-->
<!--                             foreignKeyName="fk_user_data"-->
<!--                             references="user_data(id)"/>-->
<!--            </column>-->
<!--        </createTable>-->

<!--        <createTable tableName="user_data">-->
<!--            <column name="id" type="bigint">-->
<!--                <constraints primaryKey="true"/>-->
<!--            </column>-->
<!--            <column name="name" type="varchar(45)">-->
<!--                <constraints nullable="false"/>-->
<!--            </column>-->
<!--            <column name="surname" type="varchar(45)">-->
<!--                <constraints nullable="false"/>-->
<!--            </column>-->
<!--            <column name="phone_number" type="varchar(15)">-->
<!--                <constraints nullable="false"/>-->
<!--            </column>-->
<!--            <column name="user_id" type="bigint">-->
<!--                <constraints nullable="false"-->
<!--                             foreignKeyName="fk_users"-->
<!--                             references="users(id)"/>-->
<!--            </column>-->
<!--            <column name="address_id" type="bigint">-->
<!--                <constraints nullable="false"-->
<!--                             foreignKeyName="fk_address"-->
<!--                             references="address(id)"/>-->
<!--            </column>-->
<!--        </createTable>-->


        <createTable tableName="vehicles">
            <column name="id" type="bigint">
                <constraints primaryKey="true"/>
            </column>
            <column name="vehicle_make_id" type="bigint">
                <constraints nullable="false"
                             foreignKeyName="fk_vehicle_make"
                             references="vehicle_makes(id)"/>
            </column>
            <column name="model" type="varchar(45)">
                <constraints nullable="false"/>
            </column>
            <column name="year" type="varchar(4)">
                <constraints nullable="false"/>
            </column>
            <column name="color" type="varchar(45)">
                <constraints nullable="false"/>
            </column>
            <column name="mileage" type="varchar(7)">
                <constraints nullable="false"/>
            </column>
            <column name="vin_number" type="varchar(17)">
                <constraints nullable="false"/>
            </column>
            <column name="vehicle_registration_number" type="varchar(10)">
                <constraints nullable="false"/>
            </column>

            <column name="fuel_type_id" type="bigint">
                <constraints nullable="false"
                             foreignKeyName="fk_fuel_type"
                             references="fuel_types(id)"/>
            </column>
            <column name="city_fuel_consumption" type="decimal(4, 2)">
                <constraints nullable="false"/>
            </column>
            <column name="country_fuel_consumption" type="decimal(4, 2)">
                <constraints nullable="false"/>
            </column>
            <column name="average_fuel_consumption" type="decimal(4, 2)">
                <constraints nullable="false"/>
            </column>
            <column name="vehicle_status_id" type="bigint">
                <constraints nullable="false"
                             foreignKeyName="fk_vehicle_status"
                             references="vehicle_status(id)"/>
            </column>
            <column name="user_id" type="bigint">
                <constraints nullable="false"
                             foreignKeyName="fk_users"
                             references="users(id)"/>
            </column>
        </createTable>


<!--&lt;!&ndash;            CREATE TABLE current_vehicle_users (&ndash;&gt;-->
<!--&lt;!&ndash;            id BIGINT PRIMARY KEY,&ndash;&gt;-->
<!--&lt;!&ndash;            id_user BIGINT NOT NULL REFERENCES users(id)&ndash;&gt;-->
<!--&lt;!&ndash;            id_vehicle BIGINT NOT NULL REFERENCES vehicles(id)&ndash;&gt;-->
<!--&lt;!&ndash;            )&ndash;&gt;-->

<!--&lt;!&ndash;            CREATE TABLE vehicle_inspections (&ndash;&gt;-->
<!--&lt;!&ndash;            id BIGINT PRIMARY KEY,&ndash;&gt;-->
<!--&lt;!&ndash;            inspection_date DATE NOT NULL,&ndash;&gt;-->
<!--&lt;!&ndash;            expiration_date DATE NOT NULL,&ndash;&gt;-->
<!--&lt;!&ndash;            cost DECIMAL(5, 2) NOT NULL,&ndash;&gt;-->
<!--&lt;!&ndash;            description VARCHAR(45),&ndash;&gt;-->
<!--&lt;!&ndash;            id_vehicle BIGINT NOT NULL REFERENCES vehicles(id)&ndash;&gt;-->
<!--&lt;!&ndash;            )&ndash;&gt;-->

<!--&lt;!&ndash;            CREATE TABLE vehicle_insurances (&ndash;&gt;-->
<!--&lt;!&ndash;            id BIGINT PRIMARY KEY,&ndash;&gt;-->
<!--&lt;!&ndash;            effective_date DATE NOT NULL,&ndash;&gt;-->
<!--&lt;!&ndash;            expiration_date DATE NOT NULL,&ndash;&gt;-->
<!--&lt;!&ndash;            cost DECIMAL(8, 2) NOT NULL,&ndash;&gt;-->
<!--&lt;!&ndash;            policy_number VARCHAR(25) NOT NULL,&ndash;&gt;-->
<!--&lt;!&ndash;            description VARCHAR(100),&ndash;&gt;-->
<!--&lt;!&ndash;            id_vehicle BIGINT NOT NULL REFERENCES vehicles(id),&ndash;&gt;-->
<!--&lt;!&ndash;            id_insurance_type BIGINT NOT NULL REFERENCES insurance_types(id)&ndash;&gt;-->
<!--&lt;!&ndash;            )&ndash;&gt;-->

<!--&lt;!&ndash;            CREATE TABLE vehicle_refueling (&ndash;&gt;-->
<!--&lt;!&ndash;            id BIGINT PRIMARY KEY,&ndash;&gt;-->
<!--&lt;!&ndash;            refueling_date DATE NOT NULL,&ndash;&gt;-->
<!--&lt;!&ndash;            litre VARCHAR,&ndash;&gt;-->
<!--&lt;!&ndash;            cost DECIMAL(8, 2),&ndash;&gt;-->
<!--&lt;!&ndash;            description VARCHAR(244),&ndash;&gt;-->
<!--&lt;!&ndash;            id_vehicle BIGINT NOT NULL REFERENCES vehicles(id),&ndash;&gt;-->
<!--&lt;!&ndash;            id_user BIGINT NOT NULL REFERENCES users(id),&ndash;&gt;-->
<!--&lt;!&ndash;            )&ndash;&gt;-->

<!--&lt;!&ndash;            CREATE TABLE vehicle_repairs (&ndash;&gt;-->
<!--&lt;!&ndash;            id BIGINT PRIMARY KEY,&ndash;&gt;-->
<!--&lt;!&ndash;            repair_date DATE NOT NULL,&ndash;&gt;-->
<!--&lt;!&ndash;            description VARCHAR(555) NOT NULL,&ndash;&gt;-->
<!--&lt;!&ndash;            cost DECIMAL(8, 2),&ndash;&gt;-->
<!--&lt;!&ndash;            title VARCHAR(20) NOT NULL,&ndash;&gt;-->
<!--&lt;!&ndash;            id_vehicle BIGINT NOT NULL REFERENCES vehicles(id)&ndash;&gt;-->
<!--&lt;!&ndash;            )&ndash;&gt;-->

<!--&lt;!&ndash;            CREATE TABLE vehicle_use (&ndash;&gt;-->
<!--&lt;!&ndash;            id BIGINT PRIMARY KEY,&ndash;&gt;-->
<!--&lt;!&ndash;            trip SMALLINT NOT NULL,&ndash;&gt;-->
<!--&lt;!&ndash;            trip_date DATE NOT NULL,&ndash;&gt;-->
<!--&lt;!&ndash;            description VARCHAR(244),&ndash;&gt;-->
<!--&lt;!&ndash;            trip_type VARCHAR(7),&ndash;&gt;-->
<!--&lt;!&ndash;            id_vehicle BIGINT NOT NULL REFERENCES vehicles(id),&ndash;&gt;-->
<!--&lt;!&ndash;            id_user BIGINT NOT NULL REFERENCES users(id)&ndash;&gt;-->
<!--&lt;!&ndash;            )&ndash;&gt;-->
<!--        </sql>-->

    </changeSet>
</databaseChangeLog>